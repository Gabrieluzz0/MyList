<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>MyList</title>

<link rel="icon" type="image/png" href="assets/LogoConSfondo.png">
<link href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="stylesheet" href="style.css">

<!-- PWA Manifest -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#056acf">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="MyList">
<link rel="apple-touch-icon" href="assets/LogoConSfondo.png">

</head>
<body>

<!-- Loading Screen -->
<div id="loadingScreen">
  <div class="logo-container">
    <img src="assets/NOBG.png" alt="MyList Logo" class="loading-logo">
  </div>
</div>

<div id="content">

<section id="lists" class="active">
  <div id="listsTitleWrapper">
    <div class="title-with-buttons">
      <button class="icon-btn" id="tagsBtn" title="Gestisci Tag"><i class="fas fa-tags"></i></button>
      <h1 id="listsTitle">MyList</h1>
      <button class="icon-btn" id="filterBtn" title="Filtri"><i class="fas fa-filter"></i></button>
    </div>
  </div>
  <div id="noListsMessage">Non ci sono liste qui</div>
  <div id="listsContainer"></div>
</section>

<!-- SEZIONE ARCHIVIO -->
<section id="archive">
  <div id="archiveTitleWrapper">
    <h1 id="archiveTitle">Archivio</h1>
  </div>
  <div id="noArchiveMessage">Nessuna lista archiviata</div>
  <div id="archiveContainer"></div>
</section>

<section id="settings">
  <div class="card">
    <h2><i class="fa fa-cog"></i> Impostazioni</h2>
    <div style="display:flex;align-items:center;"><span>Dark Mode</span>
      <label class="switch"><input type="checkbox" id="darkToggle" checked><span class="slider"></span></label>
    </div>
    <hr style="border:none;height:1px;background:rgba(255,255,255,0.15);margin:16px 0;">
    <button id="exportBtn">ðŸ“¤ Esporta liste</button>
    <button id="importBtn">ðŸ“¥ Importa liste</button>
    <input type="file" id="importFile" accept="application/json" style="display:none">
  </div>
</section>

</div>

<!-- Tab Switcher sopra la tab bar -->
<div id="viewSwitcher">
  <div class="view-tab active" data-view="lists">Liste</div>
  <div class="view-tab" data-view="archive">Archivio</div>
</div>

<div id="tabs">
  <div class="tab-item active" data-tab="lists"><i class="fas fa-list"></i></div>
  <div class="tab-item" id="addListTab"><i class="fas fa-plus"></i></div>
  <div class="tab-item" data-tab="settings"><i class="fas fa-cog"></i></div>
</div>

<!-- Modal Filtri -->
<div id="filterModal" class="modal-overlay">
  <div class="modal-content">
    <div class="modal-header">
      <h3><i class="fas fa-filter"></i> Filtri</h3>
      <button class="modal-close" onclick="closeFilterModal()">Ã—</button>
    </div>
    <div id="filterOptions"></div>
  </div>
</div>

<!-- Modal Tag -->
<div id="tagsModal" class="modal-overlay">
  <div class="modal-content">
    <div class="modal-header">
      <h3><i class="fas fa-tags"></i> Gestisci Tag</h3>
      <button class="modal-close" onclick="closeTagsModal()">Ã—</button>
    </div>
    <div id="tagsList"></div>
    <div class="add-tag-form">
      <input type="text" id="newTagInput" placeholder="Nuovo tag..." maxlength="12">
      <button onclick="addNewTag()">Aggiungi</button>
    </div>
  </div>
</div>

<!-- Modal Esporta Liste -->
<div id="exportModal" class="modal-overlay">
  <div class="modal-content">
    <div class="modal-header">
      <h3><i class="fas fa-file-export"></i> Esporta Liste</h3>
      <button class="modal-close" onclick="closeExportModal()">Ã—</button>
    </div>
    <p style="color:var(--muted-dark);font-size:0.9rem;margin-bottom:12px;">Seleziona le liste da esportare:</p>
    <div id="exportListSelection"></div>
    <div style="display:flex;gap:8px;margin-top:16px;">
      <button onclick="confirmExport()" style="flex:1;">Esporta Selezionate</button>
      <button onclick="closeExportModal()" style="flex:1;background:var(--danger);">Annulla</button>
    </div>
  </div>
</div>

<footer>Â© Gabrieluzz0</footer>

<script src="script.js"></script>

</body>
</html>
